@inject NavigationManager NavManager
<MudDialog>
    <TitleContent>
        <MudText Typo="Typo.h6"><MudIcon Icon="@Icons.Material.Filled.Keyboard" Class="mr-3 mb-n1" />Add Storage</MudText>
    </TitleContent>
    <DialogContent>
        <EditForm Model="Model" OnValidSubmit="Submit">
            <MudGrid>
                <MudItem xs="6">
                    <MudTextField Label="Serial Number" Variant="Variant.Outlined" Margin="Margin.Dense" @bind-Value="Model.SerialNumber" />
                </MudItem>
                <MudItem xs="6">
                    <MudTextField Label="Manufacturer" Variant="Variant.Outlined" Margin="Margin.Dense" @bind-Value="Model.Model" />
                </MudItem>
                <MudItem xs="6">
                    <MudTextField Label="Processor ID" Variant="Variant.Outlined" Margin="Margin.Dense" @bind-Value="Model.BusType" />
                </MudItem>
                <MudItem xs="6">
                    <MudTextField Label="Name" Variant="Variant.Outlined" Margin="Margin.Dense" @bind-Value="Model.MediaType" />
                </MudItem>
                <MudItem xs="12">
                    <MudTextField Label="Architecture" Variant="Variant.Outlined" Margin="Margin.Dense" @bind-Value="Model.HealthCondition" />
                </MudItem>
                <MudItem xs="12">
                    <MudTextField Label="Family" Variant="Variant.Outlined" Margin="Margin.Dense" @bind-Value="Model.FriendlyName"/>
                </MudItem>
                <MudItem xs="12">
                    <MudTextField Label="No of Cores" Variant="Variant.Outlined" Margin="Margin.Dense" @bind-Value="Model.Size"/>
                </MudItem>
                <MudItem xs="12" Class="d-flex">
                    <MudSwitch @bind-Checked="Model.IsActive" Color="Color.Info" Label="Active" Class="mx-auto" />
                </MudItem>
            </MudGrid>
        </EditForm>
    </DialogContent>    
    <DialogActions>
        <MudButton Class="me-2" OnClick="MudDialog.Cancel">Cancel</MudButton>
        <MudButton Variant="Variant.Filled" Color="Color.Primary" ButtonType="ButtonType.Submit" DisableElevation>Submit</MudButton>
    </DialogActions>
</MudDialog>
@code 
{
    [CascadingParameter] 
    private MudDialogInstance MudDialog { get; set; }

    [Parameter]
    public StorageModel Model { get; set; } = new();

    private void Submit() 
    {
        MudDialog.Close(DialogResult.Ok(Model));
    }

    [Inject] ISnackbar Snackbar { get; set; }
}

